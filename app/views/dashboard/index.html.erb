<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
  <!-- Cabeçalho com Ações Rápidas -->
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 bg-gradient-to-r from-gray-50 to-white p-6 rounded-xl shadow-md border border-gray-100">
    <div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Meu Dashboard</h1>
      <p class="text-gray-600"><%= l(Date.current, format: :long) %></p>
    </div>
    <div class="mt-4 sm:mt-0 flex space-x-3">
      <%= link_to time_sheets_path, class: "flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 shadow-sm" do %>
        <i class="fas fa-list-ul mr-2"></i> Ver Registros
      <% end %>
      <%= button_to quick_register_time_entries_path(return_to: "dashboard"), method: :post, class: "flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm" do %>
        <i class="fas fa-plus mr-2"></i> Registrar Ponto
      <% end %>
    </div>
  </div>

  <!-- Grid com Cards de Resumo -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
    <!-- Card Principal - Horas Trabalhadas Hoje -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
      <div class="text-center">
        <div class="inline-flex items-center justify-center w-12 h-12 bg-blue-50 text-blue-500 rounded-full mb-4">
          <i class="fas fa-clock text-xl"></i>
        </div>
        <h2 class="text-lg font-semibold text-gray-700 mb-3">Horas Trabalhadas Hoje</h2>

        <!-- Valor Principal -->
        <div class="text-4xl font-bold text-gray-900 mb-3">
          <%= format_hours_minutes(@daily_summary[:worked_hours]) %>
        </div>

        <!-- Meta -->
        <div class="text-sm text-gray-500 mb-4">
          Meta: <%= number_with_precision(@daily_summary[:daily_goal], precision: 0) %>h 00min
        </div>

        <!-- Status Badge -->
        <div class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium
                    <%= @daily_summary[:status] == 'complete' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800' %>">
          <% if @daily_summary[:status] == 'complete' %>
            <i class="fas fa-check-circle mr-1.5"></i> Completo
          <% else %>
            <i class="fas fa-hourglass-half mr-1.5"></i> Incompleto
          <% end %>
        </div>

        <!-- Informação adicional baseada no approval_status real -->
        <% case @daily_summary[:approval_status] %>
        <% when 'aprovado' %>
          <div class="mt-3 text-sm text-green-600 bg-green-50 py-2 px-3 rounded-lg inline-block">
            <i class="fas fa-check-circle mr-1"></i>
            Ponto aprovado
          </div>
        <% when 'enviado' %>
          <div class="mt-3 text-sm text-blue-600 bg-blue-50 py-2 px-3 rounded-lg inline-block">
            <i class="fas fa-paper-plane mr-1"></i>
            Ponto enviado para aprovação
          </div>
        <% when 'rejeitado' %>
          <div class="mt-3 text-sm text-red-600 bg-red-50 py-2 px-3 rounded-lg inline-block">
            <i class="fas fa-times-circle mr-1"></i>
            Ponto rejeitado
          </div>
        <% when 'pendente' %>
          <div class="mt-3 text-sm text-gray-600 bg-gray-50 py-2 px-3 rounded-lg inline-block">
            <i class="fas fa-edit mr-1"></i>
            Ponto em rascunho
          </div>
        <% end %>
      </div>
    </div>

    <!-- Card - Desempenho Semanal -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
      <div class="text-center">
        <div class="inline-flex items-center justify-center w-12 h-12 bg-indigo-50 text-indigo-500 rounded-full mb-4">
          <i class="fas fa-chart-line text-xl"></i>
        </div>
        <h2 class="text-lg font-semibold text-gray-700 mb-3">Desempenho Semanal</h2>

        <!-- Valor Principal -->
        <div class="text-4xl font-bold text-gray-900 mb-3">
          <%= format_hours_minutes(@weekly_summary[:worked_hours]) %>
        </div>

        <!-- Meta e Progresso -->
        <div class="text-sm text-gray-500 mb-4">
          Meta: <%= number_with_precision(@weekly_summary[:weekly_goal], precision: 0) %>h
        </div>

        <!-- Barra de Progresso -->
        <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
          <div class="bg-indigo-600 h-3 rounded-full transition-all duration-500 ease-in-out"
               style="width: <%= [@weekly_summary[:completion_percentage], 100].min %>%"></div>
        </div>

        <!-- Percentual -->
        <div class="text-sm font-medium text-gray-700 mb-3">
          <%= @weekly_summary[:completion_percentage] %>% da meta semanal
        </div>

        <!-- Status Badge -->
        <% case @weekly_summary[:status] %>
        <% when 'complete' %>
          <div class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800">
            <i class="fas fa-trophy mr-1.5"></i>
            Meta Atingida
          </div>
        <% when 'on_track' %>
          <div class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">
            <i class="fas fa-chart-line mr-1.5"></i>
            No Caminho Certo
          </div>
        <% else %>
          <div class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-red-100 text-red-800">
            <i class="fas fa-exclamation-triangle mr-1.5"></i>
            Atrás da Meta
          </div>
        <% end %>

        <!-- Informações Adicionais -->
        <div class="mt-4 flex justify-center space-x-4">
          <div class="bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-lg text-sm">
            <i class="fas fa-calendar-check mr-1"></i> <%= @weekly_summary[:days_worked] %> dias trabalhados
          </div>
          <div class="bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-lg text-sm">
            <i class="fas fa-calendar-week mr-1"></i> <%= @weekly_summary[:start_date].strftime("%d/%m") %> - <%= @weekly_summary[:end_date].strftime("%d/%m") %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Seção de Pendências -->
  <% if current_user.role == 'gestor' && @pending_approvals_count > 0 %>
    <!-- Card de Pendências para Gestores -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-10 transform transition-all duration-300 hover:shadow-xl">
      <div class="flex items-center mb-6">
        <div class="inline-flex items-center justify-center w-10 h-10 bg-amber-50 text-amber-500 rounded-full mr-3">
          <i class="fas fa-bell"></i>
        </div>
        <h3 class="text-xl font-semibold text-gray-800">Pendências para Aprovação</h3>
        <% if @pending_approvals_count > 0 %>
          <div class="ml-3 inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium">
            <i class="fas fa-exclamation-circle mr-1"></i>
            Ação necessária
          </div>
        <% end %>
      </div>

      <div class="flex flex-col p-6 bg-amber-50 rounded-lg mb-6">
        <div class="flex justify-center items-center mb-6">
          <div class="text-4xl font-bold text-amber-600">
            <%= @pending_approvals_count %>
          </div>
          <div class="ml-3 text-amber-700 text-lg">
            <%= @pending_approvals_count == 1 ? 'registro aguardando aprovação' : 'registros aguardando aprovação' %>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
          <div class="bg-white rounded-lg p-4 shadow-sm border border-amber-100">
            <div class="flex items-center justify-between mb-2">
              <span class="font-medium text-gray-800">Enviados para aprovação</span>
              <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-sm font-medium">
                <%= @pending_enviado_count %>
              </span>
            </div>
            <p class="text-sm text-gray-600">Registros que foram enviados pelos funcionários e aguardam sua revisão.</p>
          </div>

          <div class="bg-white rounded-lg p-4 shadow-sm border border-amber-100">
            <div class="flex items-center justify-between mb-2">
              <span class="font-medium text-gray-800">Pendentes</span>
              <span class="bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-sm font-medium">
                <%= @pending_pendente_count %>
              </span>
            </div>
            <p class="text-sm text-gray-600">Registros que ainda estão em rascunho e podem precisar de atenção.</p>
          </div>
        </div>

        <%= link_to approvals_path, class: "inline-flex items-center px-5 py-2.5 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-all duration-200 shadow-sm mx-auto" do %>
          <i class="fas fa-check-circle mr-2"></i>
          Revisar Todas as Aprovações
        <% end %>
      </div>

      <!-- Lista de Funcionários com Pendências -->
      <h4 class="text-lg font-semibold text-gray-800 mb-4">Funcionários com Registros Pendentes</h4>

      <div class="space-y-6">
        <% @employees_with_pending.each do |employee| %>
          <div class="bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden">
            <!-- Cabeçalho do Funcionário -->
            <div class="bg-gray-50 p-4 border-b border-gray-200">
              <div class="flex justify-between items-center">
                <div class="flex items-center">
                  <div class="inline-flex items-center justify-center w-10 h-10 bg-indigo-100 text-indigo-600 rounded-full mr-3">
                    <i class="fas fa-user"></i>
                  </div>
                  <div>
                    <h5 class="font-medium text-gray-900"><%= employee.name %></h5>
                    <p class="text-sm text-gray-600"><%= employee.position %> - <%= employee.department %></p>
                  </div>
                </div>
                <div class="bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-sm font-medium">
                  <%= @pending_count_by_employee[employee.id] %> pendências
                </div>
              </div>
            </div>

            <!-- Lista de Registros Pendentes -->
            <div class="divide-y divide-gray-200">
              <% @pending_by_employee[employee.id].each do |time_sheet| %>
                <div class="p-4 hover:bg-gray-50">
                  <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3">
                    <!-- Informações do Registro -->
                    <div class="flex-1">
                      <div class="flex items-center mb-2">
                        <span class="font-medium text-gray-800 mr-3"><%= time_sheet.date.strftime("%d/%m/%Y") %></span>

                        <% status_classes = time_sheet.approval_status == 'enviado' ? 'bg-blue-100 text-blue-700' : 'bg-yellow-100 text-yellow-700' %>
                        <% status_icon = time_sheet.approval_status == 'enviado' ? 'paper-plane' : 'clock' %>
                        <% status_text = time_sheet.approval_status == 'enviado' ? 'Enviado' : 'Pendente' %>

                        <span class="<%= status_classes %> px-2 py-1 rounded-full text-xs font-medium flex items-center">
                          <i class="fas fa-<%= status_icon %> mr-1"></i>
                          <%= status_text %>
                        </span>

                        <% if time_sheet.total_hours.to_f > 8.0 %>
                          <span class="ml-2 bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium flex items-center">
                            <i class="fas fa-clock mr-1"></i>
                            Horas extras
                          </span>
                        <% end %>

                        <% unless time_sheet.within_tolerance? %>
                          <span class="ml-2 bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium flex items-center">
                            <i class="fas fa-exclamation-triangle mr-1"></i>
                            Ajuste
                          </span>
                        <% end %>
                      </div>

                      <div class="text-sm text-gray-600 mb-2">
                        <span class="font-medium">Total:</span> <%= time_sheet.total_hours %>h
                        <% if time_sheet.justification.present? %>
                          <span class="ml-3 font-medium">Justificativa:</span> <%= truncate(time_sheet.justification, length: 50) %>
                        <% end %>
                      </div>
                    </div>

                    <!-- Ações -->
                    <div class="flex space-x-2">
                      <%= button_to approve_approval_path(time_sheet), method: :patch, class: "bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium flex items-center", form: { data: { turbo_confirm: "Aprovar este registro?" } } do %>
                        <i class="fas fa-check mr-1.5"></i> Aprovar
                      <% end %>

                      <%= button_to reject_approval_path(time_sheet), method: :patch, class: "bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-sm font-medium flex items-center", form: { data: { turbo_confirm: "Rejeitar este registro?" } } do %>
                        <i class="fas fa-times mr-1.5"></i> Rejeitar
                      <% end %>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>

            <!-- Ver Todos os Registros deste Funcionário -->
            <div class="bg-gray-50 p-3 border-t border-gray-200 text-center">
              <%= link_to approvals_path(search: employee.name), class: "text-indigo-600 hover:text-indigo-800 text-sm font-medium" do %>
                Ver todos os registros deste funcionário <i class="fas fa-arrow-right ml-1"></i>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% elsif current_user.role != 'gestor' && @pending_count > 0 %>
    <!-- Card de Pendências para Funcionários -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-10 transform transition-all duration-300 hover:shadow-xl">
      <div class="flex items-center mb-6">
        <div class="inline-flex items-center justify-center w-10 h-10 bg-amber-50 text-amber-500 rounded-full mr-3">
          <i class="fas fa-bell"></i>
        </div>
        <h3 class="text-xl font-semibold text-gray-800">Minhas Pendências</h3>
        <% if @pending_count > 0 %>
          <div class="ml-3 inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium">
            <i class="fas fa-exclamation-circle mr-1"></i>
            Ação necessária
          </div>
        <% end %>
      </div>

      <!-- Resumo das pendências -->
      <div class="mb-6 p-5 bg-amber-50 rounded-lg border border-amber-100">
        <div class="text-center mb-4">
          <div class="text-2xl font-bold text-amber-600 mb-1">
            <%= @pending_count %>
          </div>
          <p class="text-amber-700">
            <%= @pending_count == 1 ? 'item pendente' : 'itens pendentes' %> que precisam da sua atenção
          </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <% if @pending_pendente_count > 0 %>
            <div class="bg-white rounded-lg p-3 shadow-sm border border-amber-100 text-center">
              <div class="text-lg font-bold text-yellow-600 mb-1"><%= @pending_pendente_count %></div>
              <div class="text-xs text-gray-600">Pendentes</div>
            </div>
          <% end %>

          <% if @pending_enviado_count > 0 %>
            <div class="bg-white rounded-lg p-3 shadow-sm border border-amber-100 text-center">
              <div class="text-lg font-bold text-blue-600 mb-1"><%= @pending_enviado_count %></div>
              <div class="text-xs text-gray-600">Enviados</div>
            </div>
          <% end %>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% @pending_items.each do |time_sheet| %>
          <div class="bg-amber-50 rounded-lg p-4 border border-amber-100 shadow-sm hover:shadow-md transition-all duration-200">
            <div class="flex justify-between items-center mb-3">
              <span class="font-medium text-gray-800"><%= time_sheet.date.strftime("%d/%m/%Y") %></span>

              <% status_classes = case time_sheet.approval_status 
                 when 'enviado' then 'bg-blue-100 text-blue-700'
                 when 'rejeitado' then 'bg-red-100 text-red-700'
                 when 'pendente' then 'bg-yellow-100 text-yellow-700'
                 else 'bg-gray-100 text-gray-700'
                 end %>

              <% status_icon = case time_sheet.approval_status 
                 when 'enviado' then 'paper-plane'
                 when 'rejeitado' then 'times-circle'
                 when 'pendente' then 'clock'
                 else 'question-circle'
                 end %>

              <% status_text = case time_sheet.approval_status 
                 when 'enviado' then 'Enviado'
                 when 'rejeitado' then 'Rejeitado'
                 when 'pendente' then 'Pendente'
                 else 'Desconhecido'
                 end %>

              <span class="<%= status_classes %> px-2 py-1 rounded-full text-xs font-medium flex items-center">
                <i class="fas fa-<%= status_icon %> mr-1"></i>
                <%= status_text %>
              </span>
            </div>

            <% action_needed = time_sheet.approval_status == 'pendente' || time_sheet.approval_status == 'enviado' %>

            <% if action_needed %>
              <div class="mb-3 text-xs text-red-600 bg-red-50 py-1 px-2 rounded-lg inline-block">
                <i class="fas fa-exclamation-circle mr-1"></i>
                Ação necessária
              </div>
            <% end %>

            <% if action_needed %>
              <%= link_to time_sheet_path(time_sheet), class: "w-full bg-amber-600 text-white text-center py-2 rounded-lg text-sm font-medium hover:bg-amber-700 transition-colors flex items-center justify-center" do %>
                <i class="fas fa-eye mr-1.5"></i> Ver Detalhes
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Registros de Hoje (se houver) -->
  <% if @daily_summary[:entries].any? %>
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-10 transform transition-all duration-300 hover:shadow-xl">
      <div class="flex items-center mb-6">
        <div class="inline-flex items-center justify-center w-10 h-10 bg-green-50 text-green-500 rounded-full mr-3">
          <i class="fas fa-clipboard-list"></i>
        </div>
        <h3 class="text-xl font-semibold text-gray-800">Registros de Hoje</h3>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <% @daily_summary[:entries].each_with_index do |entry, index| %>
          <div class="bg-gray-50 rounded-lg p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200">
            <div class="flex items-center justify-between mb-2">
              <% entry_icon = case entry.entry_type 
                 when 'entrada', 'clock_in' then 'sign-in-alt'
                 when 'saída', 'clock_out' then 'sign-out-alt'
                 when 'break_start', 'inicio_intervalo' then 'coffee'
                 when 'break_end', 'fim_intervalo' then 'walking'
                 else 'clock'
                 end %>
              <div class="inline-flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-500 rounded-full">
                <i class="fas fa-<%= entry_icon %>"></i>
              </div>
              <span class="text-xs font-medium text-gray-500">#<%= index + 1 %></span>
            </div>
            <div class="text-center">
              <div class="text-sm font-medium text-gray-600 mb-1">
                <%= format_entry_type(entry.entry_type) %>
              </div>
              <div class="text-2xl font-bold text-gray-900">
                <%= entry.time.strftime("%H:%M") %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <!-- Estado sem registros -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-8 text-center mb-10 transform transition-all duration-300 hover:shadow-xl">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gray-100 text-gray-400 rounded-full mb-4">
        <i class="fas fa-clock text-3xl"></i>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-3">Nenhum registro hoje</h3>
      <p class="text-gray-600 mb-6 max-w-md mx-auto">Faça seu primeiro registro de ponto para começar a acompanhar seu dia e manter seu controle de horas atualizado.</p>
      <%= button_to quick_register_time_entries_path(return_to: "dashboard"), method: :post, class: "inline-flex items-center px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm mx-auto" do %>
        <i class="fas fa-plus mr-2"></i>
        Registrar Ponto Agora
      <% end %>
    </div>
  <% end %>

  <!-- Registros Recentes -->
  <div>
    <div class="flex items-center mb-6">
      <div class="inline-flex items-center justify-center w-10 h-10 bg-purple-50 text-purple-500 rounded-full mr-3">
        <i class="fas fa-history"></i>
      </div>
      <h2 class="text-xl font-semibold text-gray-800">Registros Recentes</h2>
    </div>

    <% if @recent_time_sheets.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% @recent_time_sheets.each do |time_sheet| %>
          <div class="bg-white rounded-xl shadow-md border border-gray-100 p-5 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1">
            <div class="flex justify-between items-center mb-4">
              <div class="flex items-center space-x-3">
                <div class="bg-purple-50 text-purple-500 p-2 rounded-lg">
                  <i class="fas fa-calendar-day text-lg"></i>
                </div>
                <span class="text-lg font-semibold text-gray-800"><%= time_sheet.date.strftime("%d/%m/%Y") %></span>
              </div>

              <% status_classes = case time_sheet.approval_status 
                 when 'aprovado' then 'bg-green-100 text-green-700'
                 when 'enviado' then 'bg-blue-100 text-blue-700'
                 when 'rejeitado' then 'bg-red-100 text-red-700'
                 else
                   time_sheet.status == 'completo' ? 'bg-blue-100 text-blue-700' : 'bg-yellow-100 text-yellow-700'
                 end %>

              <% status_icon = case time_sheet.approval_status 
                 when 'aprovado' then 'check-circle'
                 when 'enviado' then 'paper-plane'
                 when 'rejeitado' then 'times-circle'
                 else
                   time_sheet.status == 'completo' ? 'check' : 'exclamation-circle'
                 end %>

              <% status_text = case time_sheet.approval_status 
                 when 'aprovado' then 'Aprovado'
                 when 'enviado' then 'Enviado'
                 when 'rejeitado' then 'Rejeitado'
                 else
                   time_sheet.status == 'completo' ? 'Completo' : 'Incompleto'
                 end %>

              <span class="<%= status_classes %> px-3 py-1.5 rounded-full text-sm font-medium flex items-center">
                <i class="fas fa-<%= status_icon %> mr-1.5"></i>
                <%= status_text %>
              </span>
            </div>

            <div class="flex justify-between items-center">
              <div>
                <div class="flex items-center space-x-2 mb-2">
                  <i class="fas fa-clock text-gray-400"></i>
                  <span class="font-medium text-gray-800">
                    <% hours = time_sheet.total_hours.to_f rescue 0 %>
                    Total: <%= time_sheet.total_hours %>h
                  </span>
                </div>

                <% if time_sheet.justification.present? %>
                  <% justification_classes = case time_sheet.justification_status 
                     when 'aprovada' then 'bg-green-50 text-green-600'
                     when 'rejeitada' then 'bg-red-50 text-red-600'
                     when 'pendente' then 'bg-yellow-50 text-yellow-600'
                     else 'bg-gray-50 text-gray-600'
                     end %>

                  <% justification_icon = case time_sheet.justification_status 
                     when 'aprovada' then 'check'
                     when 'rejeitada' then 'times'
                     when 'pendente' then 'clock'
                     else 'question'
                     end %>

                  <% justification_text = case time_sheet.justification_status 
                     when 'aprovada' then 'Justificado'
                     when 'rejeitada' then 'Justificativa rejeitada'
                     when 'pendente' then 'Justificativa pendente'
                     else 'Sem justificativa'
                     end %>

                  <div class="<%= justification_classes %> px-2 py-1 rounded-lg text-xs inline-flex items-center">
                    <i class="fas fa-<%= justification_icon %> mr-1"></i>
                    <%= justification_text %>
                  </div>
                <% end %>
              </div>

              <% unless time_sheet.approval_status == 'aprovado' %>
                <%= link_to time_sheet_path(time_sheet), class: "bg-indigo-50 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-100 transition-colors flex items-center" do %>
                  <i class="fas fa-edit mr-1.5"></i> Editar
                <% end %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>

      <div class="mt-8 text-center">
        <%= link_to time_sheets_path, class: "inline-flex items-center px-5 py-2.5 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-all duration-200 font-medium" do %>
          Ver todos os registros <i class="fas fa-arrow-right ml-2"></i>
        <% end %>
      </div>
    <% else %>
      <div class="bg-white rounded-xl shadow-md border border-gray-100 p-8 text-center">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-gray-100 text-gray-400 rounded-full mb-4">
          <i class="fas fa-calendar-times text-3xl"></i>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-3">Nenhum registro encontrado</h3>
        <p class="text-gray-600 mb-6 max-w-md mx-auto">Você ainda não possui registros de ponto. Comece a registrar seu ponto para visualizar seu histórico aqui.</p>
        <%= button_to quick_register_time_entries_path(return_to: "dashboard"), method: :post, class: "inline-flex items-center px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm mx-auto" do %>
          <i class="fas fa-plus mr-2"></i>
          Registrar Primeiro Ponto
        <% end %>
      </div>
    <% end %>
  </div>
</div>
